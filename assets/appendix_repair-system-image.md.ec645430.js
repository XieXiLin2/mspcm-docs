import{_ as s,o as a,c as e,V as o}from"./chunks/framework.722c30d3.js";const t="/mspcm-docs/assets/scanhealth.2b335575.png",l="/mspcm-docs/assets/checkhealth.1df2cfd3.png",n="/mspcm-docs/assets/restorehealth.fdb6b094.png",r="/mspcm-docs/assets/sfc.a8b191d8.png",p="/mspcm-docs/assets/error.e1d68843.png",i="/mspcm-docs/assets/win10-iso.9b092e07.png",c="/mspcm-docs/assets/agreement.5288d774.png",m="/mspcm-docs/assets/upgrade.1459600f.png",d="/mspcm-docs/assets/for-this-PC.6286836a.png",h="/mspcm-docs/assets/ISO-file.a91f9312.png",g="/mspcm-docs/assets/select-folder.97cfb166.png",_="/mspcm-docs/assets/install.25284093.png",w="/mspcm-docs/assets/waiting.86c07273.png",C="/mspcm-docs/assets/setup.f8685bce.png",f="/mspcm-docs/assets/continue.72a778e7.png",y="/mspcm-docs/assets/agreement.aefbfdba.png",D="/mspcm-docs/assets/install.25284093.png",u="/mspcm-docs/assets/waiting.86c07273.png",q=JSON.parse('{"title":"使用 DISM & SFC 命令功能修复损坏的系统映像","description":"","frontmatter":{},"headers":[],"relativePath":"appendix/repair-system-image.md","filePath":"appendix/repair-system-image.md","lastUpdated":1695984606000}'),A={name:"appendix/repair-system-image.md"},b=o('<h1 id="使用-dism-sfc-命令功能修复损坏的系统映像" tabindex="-1">使用 DISM &amp; SFC 命令功能修复损坏的系统映像 <a class="header-anchor" href="#使用-dism-sfc-命令功能修复损坏的系统映像" aria-label="Permalink to &quot;使用 DISM &amp; SFC 命令功能修复损坏的系统映像&quot;">​</a></h1><p><strong>特别提示：该功能并不能 100% 修复所有损坏的映像，必要时请参阅<a href="#镜像修复">《如何使用镜像对 Windows 进行修复》</a></strong></p><p>按下Windows 徽标键+X，并选择“PowerShell(管理员)”或“终端(管理员)”。</p><h2 id="检查系统文件是否损坏并修复" tabindex="-1">检查系统文件是否损坏并修复 <a class="header-anchor" href="#检查系统文件是否损坏并修复" aria-label="Permalink to &quot;检查系统文件是否损坏并修复&quot;">​</a></h2><p>扫描映像以检查是否损坏，命令操作可能需要几分钟才能完成。</p><div class="language-PowerShell"><button title="Copy Code" class="copy"></button><span class="lang">PowerShell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">DISM.exe</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Online </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Cleanup</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">Image </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">ScanHealth</span></span></code></pre></div><p><img src="'+t+'" alt=""></p><p>检查映像以查看是否检测到任何损坏，命令操作可能需要几分钟才能完成。</p><div class="language-PowerShell"><button title="Copy Code" class="copy"></button><span class="lang">PowerShell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">DISM.exe</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Online </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Cleanup</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">Image </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">CheckHealth</span></span></code></pre></div><p><img src="'+l+'" alt=""></p><details><summary>关于映像检查</summary> 当您使用 /CheckHealth 参数时，DISM 工具将报告映像是否正常、可修复或不可修复。 <p>如果映像不可修复，在尝试使用 <a href="#media-creation-tool-修复升级">《Media Creation Tool 修复升级》</a>失败后，应当使用由 Microsoft 提供的系统镜像执行 <strong>重新安装</strong>。</p><p>如果映像是可修复的，您可以遵循下一步，使用 /RestoreHealth 参数来修复映像。（本章不对使用指定的映像源进行详解，有需要请参阅 <a href="https://learn.microsoft.com/troubleshoot/windows-server/deployment/fix-windows-update-errors" target="_blank" rel="noreferrer">Microsoft Learn</a>）</p></details><p>修复损坏的映像，命令操作可能需要几分钟才能完成。</p><div class="language-PowerShell"><button title="Copy Code" class="copy"></button><span class="lang">PowerShell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">DISM.exe</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Online </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">Cleanup</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">Image </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">RestoreHealth</span></span></code></pre></div><p><img src="'+n+'" alt=""></p><p>使用 SFC 扫描并修复 Windows 资源，命令操作可能需要几分钟才能完成。</p><div class="language-PowerShell"><button title="Copy Code" class="copy"></button><span class="lang">PowerShell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">SFC </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">SCANNOW</span></span></code></pre></div><p><img src="'+r+'" alt=""></p><p>完成并重启后，部分由系统损坏带来的问题将被修复。如有需要，您可再次执行 Windows 更新。</p><h2 id="如果遇到其它错误" tabindex="-1">如果遇到其它错误 <a class="header-anchor" href="#如果遇到其它错误" aria-label="Permalink to &quot;如果遇到其它错误&quot;">​</a></h2><p>如下图所示，在检查映像/修复损坏的映像时遇到“错误：&lt;错误代码&gt;”的提示，且 自行解决无果，您则需要请参阅<a href="#镜像修复">《如何使用镜像对 Windows 进行修复》</a>进行系统修复。 <img src="'+p+'" alt=""></p><h1 id="使用镜像对-windows-进行修复" tabindex="-1">使用镜像对 Windows 进行修复 <a class="header-anchor" href="#使用镜像对-windows-进行修复" aria-label="Permalink to &quot;使用镜像对 Windows 进行修复&quot;">​</a></h1><p><a href="https://www.microsoft.com/software-download/windows10ISO" target="_blank" rel="noreferrer">Windows 10</a> | <a href="https://www.microsoft.com/software-download/windows11" target="_blank" rel="noreferrer">Windows 11</a> | <a href="https://www.microsoft.com/en-us/software-download/windowsinsiderpreviewiso" target="_blank" rel="noreferrer">Windows Insider</a></p><details><summary>关于 Windows 10 镜像下载</summary><div class="warning custom-block"><p class="custom-block-title">提示</p><p>Windows 10 不再在电脑端网页单独提供 ISO 下载，如果有需要，请在下载页面上按下 F12，再按下 Ctrl+Shift+M，然后按下 F5 刷新页面，最后按下 F12 即可。</p></div><p><img src="'+i+'" alt=""></p></details><p>以下方式二选一即可。</p><h2 id="media-creation-tool-修复升级" tabindex="-1">Media Creation Tool 修复升级 <a class="header-anchor" href="#media-creation-tool-修复升级" aria-label="Permalink to &quot;Media Creation Tool 修复升级&quot;">​</a></h2><p>下载 Media Creation Tool：<a href="https://go.microsoft.com/fwlink/?LinkId=691209" target="_blank" rel="noreferrer">Windows 10</a> | <a href="https://go.microsoft.com/fwlink/?linkid=2156295" target="_blank" rel="noreferrer">Windows 11</a></p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>Windows 11 的 Media Creation Tool 仅能创建 ISO 镜像，而 Windows 10 可以直接使用 Media Creation Tool 升级/修复系统。</p></div><ol><li><img src="'+c+'" alt=""></li><li><img src="'+m+'" alt=""></li></ol><details><summary>若是 Windows 11 则会有以下选项</summary><hr><ul><li>a. <img src="'+d+'" alt=""></li><li>b. <img src="'+h+'" alt=""></li><li>c. <img src="'+g+'" alt=""> 创建完成后请参阅 <a href="#镜像修复">镜像修复</a></li></ul><hr></details><ol start="3"><li><img src="'+_+'" alt=""></li><li><img src="'+w+'" alt=""></li></ol><h2 id="镜像修复" tabindex="-1">镜像修复 <a class="header-anchor" href="#镜像修复" aria-label="Permalink to &quot;镜像修复&quot;">​</a></h2><p>双击 .ISO 镜像文件使文件资源管理器自动挂载虚拟镜像，然后使用镜像根目录下的 Setup 应用程序对系统进行修复。（升级，所需时间≥30min）</p><ol><li><img src="'+C+'" alt=""></li><li><img src="'+f+'" alt=""></li><li><img src="'+y+'" alt=""></li><li><img src="'+D+'" alt=""></li><li><img src="'+u+'" alt=""></li></ol>',33),F=[b];function S(k,I,P,W,v,x){return a(),e("div",null,F)}const T=s(A,[["render",S]]);export{q as __pageData,T as default};
